---
layout: project_help
title: "Aide - Repository Git"
slug: "git-repository"
category: Git

heading: "Cette page contient diverses informations ainsi que des conseils Ã  propos de Git et plus particuliÃ¨rement
l'utilisation d'un <u>repository</u> Ã  travers des suggestions de (bonnes) pratiques. Il n'y a aucune obligation, mais
adopter ces conseils ne peut qu'Ãªtre bÃ©nÃ©fique."
elements:
- title: Rappels
  list:
  - name: Repository
    content: "[ğŸ‡«ğŸ‡· DÃ©pÃ´t] Espace contenant l'ensemble du projet et de ses informations de versionning.
<br>Il se prÃ©sente sous la forme d'un rÃ©pertoire nommÃ©, reprenant l'exacte arborescence du projet.
<br>Il contient tout ce qui a trait Ã  l'utilisation de Git : historique (et donc commits), branches, tags, etc."
  - name: Manuel de rÃ©fÃ©rence Git
    external_link:
      href: https://git-scm.com/docs
      label: Lien de la documentation

- title: "ğŸ‹ Branches"
  text: "Les branches doivent rÃ©pondre Ã  des rÃ¨gles : nommage, droits, but, etc. De cette maniÃ¨re, chacun aura une
meilleure vision du repository ce qui l'aidera dans son travail."
  list:
  - name: Branche principale
    content: "GÃ©nÃ©ralement <code>main</code> ou <code>master</code>, cette branche contient le contenu \"rÃ©el\" du
repository, c'est-Ã -dire ce qui est utilisable dans un usage rÃ©el / de production : scripts, applicationÂ·s."
    sub_elements:
    - name: "ğŸ”’ï¸ Branche protÃ©gÃ©e"
      content: "Aucun commit, push, rebase ne doit y Ãªtre possible, hormis de la part du \"responsable\" (ou
<em>maintener</em>). Cette protection permet de garantir la stabilitÃ© et l'intÃ©gralitÃ© de cette branche et d'Ã©viter
de dÃ©truire l'historique par une manipulation malencontreuse."
    - name: "ğŸ›‚ ResponsabilitÃ©"
      content: "Un membre de l'Ã©quipe doit possÃ©der les droits de merge sur cette branche protÃ©gÃ©e afin de valider les
MR et permettre au projet d'avancer. Cette personne est gÃ©nÃ©ralement la plus compÃ©tente sur l'utilisation de Git.
<br>Deux-Trois personnes en tout peuvent possÃ©der ces droits afin d'avoir toujours une personne disponible pour rÃ©aliser
les merges. Cependant, il n'y aurait aucun intÃ©rÃªt Ã  ce qu'une trop grande proportion de l'Ã©quipe possÃ¨de ces droits."
  - name: CrÃ©ation d'une branche
    content: "Chaque branche est gÃ©nÃ©ralement crÃ©Ã©e Ã  partir de la branche principale (ou de la branche de dÃ©veloppement
comme c'est le cas dans le <u>GitFlow</u>). De cette maniÃ¨re, elle est la plus Ã  jour possible."
    sub_elements:
    - name: "ğŸ·ï¸ Nommage"
      content: "Les rÃ¨gles de nommage permettent d'identifier l'objectif de la branche : nouvelle feature, correctif,
refactorisation, etc. et son contexte d'application : authentification, suppression d'un livre, backup BDD, etc.
<br><em>Exemples</em> : <code>feat-authentification-page</code> / <code>fix-suppression_livre-avec_reservation</code>
/ <code>refacto-scripts-python</code> / ..."
    - name: "ğŸ”€ Merge"
      content: "Une fois que le travail est terminÃ© sur une branche, elle doit Ãªtre mergÃ©e sur la branche Ã  partir de
laquelle elle a Ã©tÃ© crÃ©Ã©e, afin de limiter les conflits d'historique."
  - name: "ResponsabilitÃ© unique"
    content: "Une branche est une ligne de travail qui se doit d'Ãªtre dÃ©finie pour une tÃ¢che (ou sous-tÃ¢che) trÃ¨s prÃ©cise
et la plus unitaire possible. Cela permet d'amÃ©liorer grandement la collaboration au sein d'une Ã©quipe."
    sub_elements:
    - name: "ğŸ”£ Ã‰lÃ©ments annexes"
      content: "Il n'est pas rare de repÃ©rer des choses Ã  changer, Ã  amÃ©liorer ou Ã  corriger pendant qu'on travaille sur
autre chose. Ces changements doivent Ãªtre entrepris dans une autre branche pour les traiter Ã  part et permettre Ã 
l'Ã©quipe de prendre en compte ces changements le plus tÃ´t possible."
    - name: "ğŸ—ƒï¸ Commits de branche"
      content: "Il n'est jamais nÃ©cessaire d'avoir plus de deux commits dans une branche. Si elle a bien Ã©tÃ© dÃ©finie
concernant son objectif, il n'y a aucune raison d'inclure plus qu'un commit. Si tel est le cas, il faudra peut-Ãªtre
revoir le dÃ©coupage de la branche et de la tÃ¢che associÃ©e.
<br>Le <code>git commit --amend</code> se rÃ©vÃ¨le alors un outil prÃ©cieux."

- title: "ğŸ“„ Commits"
  text: "Chaque commit est un ensemble de changements terminÃ©s et fonctionnels : on ne commit jamais quelque chose qui
ne fonctionne pas, Ã  part pour permettre Ã  une autre personne de le rÃ©cupÃ©rer et de le traiter de son cÃ´tÃ©."
  list:
  - name: "Documentation"
    content: "Chaque commit agit comme une documentation des changements portÃ©s par ledit commit. Plus un commit est
propre, cohÃ©rent et simple, plus il est comprÃ©hensible, notamment sur le travail rÃ©alisÃ©, en cours et Ã  faire."
    sub_elements:
    - name: "ğŸ“‘ StructurÃ©"
      content: "Un commit ne doit inclure que les Ã©lÃ©ments qui sont propres Ã  son contexte. De cette faÃ§on, il est plus
simple de retrouver certains changements et de les comprendre."
    - name: "ğŸ“ Message"
      content: "Le message se compose d'un rÃ©sumÃ© (50 caractÃ¨res), sous la forme d'un titre, et d'un contenu apportant
des dÃ©tails supplÃ©mentaires et nÃ©cessaires.
<br>Ces informations aident Ã  documenter le commit afin d'indiquer son objectif et de donner des explications sur les
divers changements. Il faut donc trouver un Ã©quilibre sur le fait d'Ãªtre assez suggestif tout en restant concis.
<br><em>Des rÃ¨gles sur le message de commit ont Ã©tÃ© indiquÃ©es dans le corrigÃ© du TP Git du module Â« Archi web Â».</em>"
    - name: "gitmğŸ˜ji"
      content: "L'utilisation d'emojis est de plus en plus frÃ©quente, car ils apportent une identification visuelle trÃ¨s
rapide et comprÃ©hensible de touÂ·teÂ·s."
      external_link:
        href: https://gitmoji.dev/
        label: Lien du guide
  - name: "Contenu"
    content: "Il est rare qu'un commit contienne plusieurs dizaines de changements, car plus il est consÃ©quent, plus il est
complexe Ã  expliciter, Ã  comprendre et Ã  intÃ©grer. Par ailleurs, il augmente les risques de bugs."

- title: "ğŸ”€ Merge requests (MR)"
  text: "DÃ¨s lors que le travail sur une branche est terminÃ©e, une demande de merge doit Ãªtre crÃ©Ã©e sur GitLab. Une MR
est donc une action permettant d'indiquer qu'une tÃ¢che prÃ©cise est traitÃ©e. La MR est aussi une explication du travail
rÃ©alisÃ© afin d'informer les autres membres de l'Ã©quipe."
  list:
  - name: "ğŸ“ Message"
    content: "Le message d'une MR reprend le message du commit de la branche Ã  merger, puisqu'il indique les changements
qui vont s'opÃ©rer Ã  la suite de cette fusion.
<br>Des informations complÃ©mentaires peuvent Ãªtre adjointes Ã  la MR, notamment des preuves du bon fonctionnement
(captures d'Ã©cran, captures vidÃ©o, logs d'exÃ©cution d'une commande ou d'un script, etc.)."
  - name: "ğŸ—ƒï¸ Contenu"
    content: "Moins une MR contient de changements, plus elle est facilement relue, comprÃ©hensible et explicite sur le
travail rÃ©alisÃ© et restant."
  - name: "ğŸ“– Revue"
    content: "Tout travail doit Ãªtre relu par une autre personne. Cela permet d'avoir une autre vision de ce qui a Ã©tÃ©
fait, de valider le travail rÃ©alisÃ© (notamment s'il correspond bien Ã  la demande) et d'aider Ã  dÃ©celer les potentiels
problÃ¨mes et bugs. Cela contribue aussi Ã©normÃ©ment Ã  la communication interne."
  - name: "ğŸ’¬ Retours"
    content: "Tout travail peut Ãªtre amÃ©liorable et tout doit Ãªtre ouvert Ã  la discussion pour s'assurer que le travail
rÃ©alisÃ© a Ã©tÃ© bien fait et qu'il est compris par tout le monde.
<br>Ainsi, il ne faut pas hÃ©siter Ã  faire des retours dans une MR pour faire des suggestions, comprendre ce qui a Ã©tÃ©
fait ou encore rÃ©orienter la conception entreprise.
<br>âš ï¸ Les retours ne sont pas un moyen de dÃ©fouloir et les Ã©changes doivent Ãªtre <strong>respectueux</strong>, les
critiques <strong>constructives</strong> et <strong>bienveillantes</strong>."
  - name: "â˜‘ï¸ Traitements"
    content: "Tous retours et rÃ©solutions de conflits doivent Ãªtre Â« amendÃ©s Â» dans le commit de la branche. Cela
permet d'avoir un historique propre et cohÃ©rent."
  - name: "ğŸ—‘ï¸ Suppression de branche"
    content: "DÃ¨s lors qu'une branche a Ã©tÃ© mergÃ©e, elle a rempli son office et n'est donc plus nÃ©cessaire au
repository. Elle doit donc Ãªtre supprimÃ©e."
---
